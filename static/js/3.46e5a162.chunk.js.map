{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/ProfilePage/MyPosts/MyPosts.module.css","assets/images/icon.jpg","components/ProfilePage/MyPosts/Post/Post.module.css","components/ProfilePage/ProfileInfo/ProfileInfo.module.css","components/ProfilePage/MyPosts/Post/Post.jsx","components/ProfilePage/MyPosts/NewPostForm/NewPostForm.jsx","components/ProfilePage/MyPosts/MyPosts.jsx","components/ProfilePage/MyPosts/MyPostsContainer.jsx","components/ProfilePage/ProfileInfo/ProfileStatusHooks.jsx","components/ProfilePage/ProfileInfo/ProfileInfo.jsx","components/ProfilePage/ProfilePage.jsx","components/ProfilePage/ProfilePageContainer.jsx"],"names":["_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","prototype","toString","call","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","TypeError","module","exports","Post","props","className","css","container","image","src","avatar","alt","text","likesCount","maxLength","maxLengthCreator","reduxForm","form","handleSubmit","onSubmit","Field","name","component","TextareaField","validate","required","placeholder","MyPosts","React","memo","posts","addPost","postItems","reverse","map","post","likes","key","id","newPostContainer","values","newPostText","mapDispatchToProps","MyPostsContainer","connect","state","profilePage","ProfileStatusHooks","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onBlur","updateStatus","onChange","e","target","onDoubleClick","ProfileInfo","profile","description","photos","large","Preloader","ProfilePage","ProfileContainer","getProfile","getUserProfile","getStatus","userId","match","params","history","this","Component","compose","auth","withRouter"],"mappings":"0HAGe,SAASA,EAAeC,EAAKC,GAC1C,OCJa,SAAyBD,GACtC,GAAIE,MAAMC,QAAQH,GAAM,OAAOA,EDGxB,CAAeA,IEJT,SAA+BA,EAAKC,GACjD,GAAMG,OAAOC,YAAYC,OAAON,IAAgD,uBAAxCM,OAAOC,UAAUC,SAASC,KAAKT,GAAvE,CAIA,IAAIU,EAAO,GACPC,GAAK,EACLC,GAAK,EACLC,OAAKC,EAET,IACE,IAAK,IAAiCC,EAA7BC,EAAKhB,EAAII,OAAOC,cAAmBM,GAAMI,EAAKC,EAAGC,QAAQC,QAChER,EAAKS,KAAKJ,EAAGK,QAETnB,GAAKS,EAAKW,SAAWpB,GAH8CU,GAAK,IAK9E,MAAOW,GACPV,GAAK,EACLC,EAAKS,EACL,QACA,IACOX,GAAsB,MAAhBK,EAAW,QAAWA,EAAW,SAC5C,QACA,GAAIJ,EAAI,MAAMC,GAIlB,OAAOH,GFvBuB,CAAqBV,EAAKC,IGJ3C,WACb,MAAM,IAAIsB,UAAU,wDHG0C,GAJhE,mC,oBICAC,EAAOC,QAAU,CAAC,iBAAmB,oC,oBCDrCD,EAAOC,QAAU,IAA0B,kC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,wBAAwB,MAAQ,sB,oBCA9DD,EAAOC,QAAU,CAAC,iBAAmB,sCAAsC,eAAiB,oCAAoC,OAAS,8B,kKCa1HC,EAVF,SAACC,GACZ,OACE,yBAAKC,UAAWC,IAAIC,WAClB,yBAAKF,UAAWC,IAAIE,MAAOC,IAAKC,IAAQC,IAAI,WAC5C,6BAAMP,EAAMQ,MACZ,wCAAcR,EAAMS,c,kCCJpBC,EAAYC,YAAiB,GAsBpBC,cAAU,CACvBC,KAAM,eADOD,EApBK,SAACZ,GAAW,IACtBc,EAAiBd,EAAjBc,aAER,OACE,0BAAMC,SAAUD,GACd,6BACE,kBAACE,EAAA,EAAD,CACEC,KAAK,cACLC,UAAWC,IACXC,SAAU,CAACC,IAAUX,GACrBY,YAAY,iBAGhB,6BACE,iDCOOC,EAtBCC,IAAMC,MAAK,SAACzB,GAAW,IAC7B0B,EAAmB1B,EAAnB0B,MAAOC,EAAY3B,EAAZ2B,QAETC,EAAY,YAAIF,GAAOG,UAAUC,KAAI,SAACC,GAAD,OAAU,kBAAC,EAAD,CAAMvB,KAAMuB,EAAKvB,KAAMC,WAAYsB,EAAKC,MAAOC,IAAKF,EAAKG,QAM9G,OACE,6BACE,yBAAKjC,UAAWC,IAAIiC,kBAClB,kBAAC,EAAD,CAAapB,SAPG,SAACqB,GACrBT,EAAQS,EAAOC,iBASb,6BACGT,O,gBCXLU,EAAsB,CACxBX,aAKaY,EAFUC,aAXH,SAACC,GAErB,MAAQ,CACNf,MAFgBe,EAAMC,YAAhBhB,SAUwCY,EAAzBE,CAA6CjB,G,mCCwBvDoB,EArCY,SAAC3C,GAAW,IAAD,EACJ4C,oBAAS,GADL,mBAC7BC,EAD6B,KACnBC,EADmB,OAERF,mBAAS5C,EAAM+C,QAFP,mBAE7BA,EAF6B,KAErBC,EAFqB,KAIpCC,qBAAU,WACRD,EAAUhD,EAAM+C,UACf,CAAC/C,EAAM+C,SAeV,OACE,6BACE,6BACIF,EACA,2BACEK,WAAW,EACXC,OAfiB,WACzBL,GAAY,GACZ9C,EAAMoD,aAAaL,IAcXM,SAXiB,SAACC,GAC1BN,EAAUM,EAAEC,OAAO9D,QAWXA,MAAOsD,IAEP,0BAAMS,cAvBS,WACvBV,GAAY,KAsBoCC,MCRrCU,EApBK,SAACzD,GAAW,IACtB0D,EAAkC1D,EAAlC0D,QAASX,EAAyB/C,EAAzB+C,OAAQK,EAAiBpD,EAAjBoD,aAEzB,OAAIM,EAKF,6BAIE,yBAAKzD,UAAWC,IAAIyD,aAClB,yBAAKtD,IAAKqD,EAAQE,OAAOC,MAAO5D,UAAWC,IAAII,OAAQC,IAAI,WAC3D,kBAAC,EAAD,CAAoBwC,OAAQA,EAAQK,aAAcA,MAV/C,kBAACU,EAAA,EAAD,OCMIC,EAXK,SAAC/D,GAAW,IACtB0D,EAAkC1D,EAAlC0D,QAASX,EAAyB/C,EAAzB+C,OAAQK,EAAiBpD,EAAjBoD,aAEzB,OACE,6BACE,kBAAC,EAAD,CAAaM,QAASA,EAASX,OAAQA,EAAQK,aAAcA,IAC7D,kBAAC,EAAD,Q,eCFAY,E,2MAcJC,WAAa,WAAO,IAAD,EACqB,EAAKjE,MAAnCkE,EADS,EACTA,eAAgBC,EADP,EACOA,UAClBC,EAAS,EAAKpE,MAAMqE,MAAMC,OAAOF,QAAU,EAAKpE,MAAMoE,OAExDA,GACF,EAAKpE,MAAMuE,QAAQ/E,KAAK,UAG1B0E,EAAeE,GACfD,EAAUC,I,mFApBVI,KAAKP,e,2CAIUO,KAAKxE,MAAMqE,MAAMC,OAAOF,QAAUI,KAAKxE,MAAMoE,QAG1DI,KAAKxE,MAAMuE,QAAQ/E,KAAK,Y,+BAiB1B,OACE,kBAAC,EAAgBgF,KAAKxE,W,GA5BGwB,IAAMiD,WAyC/BnC,EAAqB,CACzB4B,mBACAC,cACAf,kBAGasB,sBACblC,aAfsB,SAACC,GACvB,MAAO,CACLiB,QAASjB,EAAMC,YAAYgB,QAC3BX,OAAQN,EAAMC,YAAYK,OAC1BqB,OAAQ3B,EAAMkC,KAAKzC,MAWII,GACzBsC,IAFaF,CAGbV","file":"static/js/3.46e5a162.chunk.js","sourcesContent":["import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"newPostContainer\":\"MyPosts_newPostContainer__2JXIK\"};","module.exports = __webpack_public_path__ + \"static/media/icon.1a932483.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Post_container__2iVn5\",\"image\":\"Post_image__2LJjn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wallpaperWrapper\":\"ProfileInfo_wallpaperWrapper__3PykT\",\"wallpaperImage\":\"ProfileInfo_wallpaperImage__2LwR_\",\"avatar\":\"ProfileInfo_avatar__3iaYJ\"};","import React from 'react';\r\nimport avatar from '../../../../assets/images/icon.jpg';\r\nimport css from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return (\r\n    <div className={css.container}>\r\n      <img className={css.image} src={avatar} alt=\"avatar\"/>\r\n      <div>{props.text}</div>\r\n      <span>likes: {props.likesCount}</span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Post;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport { required, maxLengthCreator } from '../../../../utils/validators/validators';\r\nimport { TextareaField } from '../../../common/FormFields/FormFields';\r\n\r\nconst maxLength = maxLengthCreator(5);\r\n\r\nconst NewPostForm = (props) => {\r\n  const { handleSubmit } = props;\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <Field \r\n          name=\"newPostText\" \r\n          component={TextareaField}\r\n          validate={[required, maxLength]}\r\n          placeholder=\"New post...\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <button>Add post</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default reduxForm({\r\n  form: 'newPostForm'\r\n})(NewPostForm);","/* eslint-disable react/display-name */\r\nimport React from 'react';\r\nimport css from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport NewPostForm from './NewPostForm/NewPostForm';\r\n\r\nconst MyPosts = React.memo((props) => {\r\n  const { posts, addPost } = props;\r\n\r\n  const postItems = [...posts].reverse().map((post) => <Post text={post.text} likesCount={post.likes} key={post.id} />);\r\n\r\n  const handleAddPost = (values) => {\r\n    addPost(values.newPostText);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className={css.newPostContainer}>\r\n        <NewPostForm onSubmit={handleAddPost} />\r\n      </div>\r\n\r\n      <div>\r\n        {postItems}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default MyPosts;","import MyPosts from './MyPosts';\r\nimport { addPost } from '../../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n  const { posts } = state.profilePage;\r\n  return ({\r\n    posts\r\n  });\r\n};\r\n\r\nlet mapDispatchToProps =  {\r\n  addPost\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React, { useState, useEffect } from 'react';\r\n\r\nconst ProfileStatusHooks = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n  \r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const handleStatusChange = (e) => {\r\n    setStatus(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        { editMode ? \r\n          <input \r\n            autoFocus={true} \r\n            onBlur={deactivateEditMode}\r\n            onChange={handleStatusChange}\r\n            value={status}\r\n          />\r\n          : <span onDoubleClick={activateEditMode}>{status}</span>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusHooks;","import React from 'react';\r\nimport css from './ProfileInfo.module.css';\r\nimport Preloader from '../../common/Preloader/Preloader';\r\nimport ProfileStatusHooks from './ProfileStatusHooks';\r\n\r\nconst ProfileInfo = (props) => {\r\n  const { profile, status, updateStatus } = props;\r\n\r\n  if(!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {/* <div className={css.wallpaperWrapper}>\r\n        <img src={wallpaper} className={css.wallpaperImage} alt=\"background\"/>\r\n      </div> */}\r\n      <div className={css.description}>\r\n        <img src={profile.photos.large} className={css.avatar} alt=\"avatar\"/>\r\n        <ProfileStatusHooks status={status} updateStatus={updateStatus} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer';\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\n\r\nconst ProfilePage = (props) => {\r\n  const { profile, status, updateStatus } = props;\r\n\r\n  return (\r\n    <div>\r\n      <ProfileInfo profile={profile} status={status} updateStatus={updateStatus}/>\r\n      <MyPostsContainer/>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfilePage;","import React from 'react';\r\nimport ProfilePage from './ProfilePage';\r\nimport { getUserProfile, getStatus, updateStatus } from '../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { compose } from 'redux';\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.getProfile();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    const userId = this.props.match.params.userId || this.props.userId;\r\n    \r\n    if(!userId) {\r\n      this.props.history.push('/login');\r\n    }\r\n  }\r\n\r\n  getProfile = () => {\r\n    const { getUserProfile, getStatus } = this.props;\r\n    const userId = this.props.match.params.userId || this.props.userId;\r\n    \r\n    if(!userId) {\r\n      this.props.history.push('/login');\r\n    }\r\n\r\n    getUserProfile(userId);\r\n    getStatus(userId);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <ProfilePage {...this.props} />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    userId: state.auth.id\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  getUserProfile,\r\n  getStatus,\r\n  updateStatus\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, mapDispatchToProps),\r\n  withRouter,\r\n)(ProfileContainer);\r\n\r\n"],"sourceRoot":""}